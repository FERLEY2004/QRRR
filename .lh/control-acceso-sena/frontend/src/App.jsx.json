{
    "sourceFile": "control-acceso-sena/frontend/src/App.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1764021641519,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1764109932842,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,10 +8,10 @@\n import Visitors from './pages/Visitors';\n import Reports from './pages/Reports';\n import ReportsDashboard from './pages/ReportsDashboard';\n import PeopleSearch from './pages/PeopleSearch';\n+import AccessHistory from './pages/AccessHistory';\n import ProgramCatalog from './pages/ProgramCatalog';\n-import FichasCatalog from './pages/FichasCatalog';\n import AdminPanel from './pages/AdminPanel';\n import ImportWizard from './components/import/ImportWizard';\n import ProtectedRoute from './components/ProtectedRoute';\n \n@@ -55,10 +55,10 @@\n                     <Route path=\"/visitors\" element={<Visitors />} />\n                     <Route path=\"/reports\" element={<ProtectedRoute requireAdmin><Reports /></ProtectedRoute>} />\n                     <Route path=\"/reports-dashboard\" element={<ProtectedRoute requireAdmin><ReportsDashboard /></ProtectedRoute>} />\n                     <Route path=\"/people-search\" element={<ProtectedRoute requireAdmin><PeopleSearch /></ProtectedRoute>} />\n+                    <Route path=\"/access-history\" element={<ProtectedRoute requireAdmin><AccessHistory /></ProtectedRoute>} />\n                     <Route path=\"/program-catalog\" element={<ProtectedRoute requireAdmin><ProgramCatalog /></ProtectedRoute>} />\n-                    <Route path=\"/fichas-catalog\" element={<ProtectedRoute requireAdmin><FichasCatalog /></ProtectedRoute>} />\n                     <Route path=\"/admin\" element={<ProtectedRoute requireAdmin><AdminPanel /></ProtectedRoute>} />\n                     <Route path=\"/import\" element={<ProtectedRoute requireAdmin><ImportWizard /></ProtectedRoute>} />\n                   </Routes>\n                 </div>\n"
                }
            ],
            "date": 1764021641519,
            "name": "Commit-0",
            "content": "import React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { AuthProvider, useAuth } from './context/AuthContext';\nimport Navbar from './components/Navbar';\nimport Login from './pages/Login';\nimport Dashboard from './pages/Dashboard';\nimport Scanner from './pages/Scanner';\nimport Visitors from './pages/Visitors';\nimport Reports from './pages/Reports';\nimport ReportsDashboard from './pages/ReportsDashboard';\nimport PeopleSearch from './pages/PeopleSearch';\nimport ProgramCatalog from './pages/ProgramCatalog';\nimport FichasCatalog from './pages/FichasCatalog';\nimport AdminPanel from './pages/AdminPanel';\nimport ImportWizard from './components/import/ImportWizard';\nimport ProtectedRoute from './components/ProtectedRoute';\n\n// Componente para manejar la redirección de la ruta raíz\nconst RootRedirect = () => {\n  const { user, loading } = useAuth();\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  // Si no hay usuario, redirigir a login\n  if (!user) {\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  // Si hay usuario, redirigir al dashboard\n  return <Navigate to=\"/dashboard\" replace />;\n};\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <Router>\n        <Routes>\n          <Route path=\"/login\" element={<Login />} />\n          <Route path=\"/\" element={<RootRedirect />} />\n          <Route\n            path=\"/*\"\n            element={\n              <ProtectedRoute>\n                <div className=\"min-h-screen bg-gray-100\">\n                  <Navbar />\n                  <Routes>\n                    <Route path=\"/dashboard\" element={<Dashboard />} />\n                    <Route path=\"/scanner\" element={<Scanner />} />\n                    <Route path=\"/visitors\" element={<Visitors />} />\n                    <Route path=\"/reports\" element={<ProtectedRoute requireAdmin><Reports /></ProtectedRoute>} />\n                    <Route path=\"/reports-dashboard\" element={<ProtectedRoute requireAdmin><ReportsDashboard /></ProtectedRoute>} />\n                    <Route path=\"/people-search\" element={<ProtectedRoute requireAdmin><PeopleSearch /></ProtectedRoute>} />\n                    <Route path=\"/program-catalog\" element={<ProtectedRoute requireAdmin><ProgramCatalog /></ProtectedRoute>} />\n                    <Route path=\"/fichas-catalog\" element={<ProtectedRoute requireAdmin><FichasCatalog /></ProtectedRoute>} />\n                    <Route path=\"/admin\" element={<ProtectedRoute requireAdmin><AdminPanel /></ProtectedRoute>} />\n                    <Route path=\"/import\" element={<ProtectedRoute requireAdmin><ImportWizard /></ProtectedRoute>} />\n                  </Routes>\n                </div>\n              </ProtectedRoute>\n            }\n          />\n        </Routes>\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App;"
        }
    ]
}