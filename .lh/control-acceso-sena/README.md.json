{
    "sourceFile": "control-acceso-sena/README.md",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1764949177168,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1764949183723,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,9 @@\n \r\n ### 2. Configurar Base de Datos\r\n \r\n 1. Crear la base de datos `control_acceso_sena` en MySQL\r\n-2. Importar el esquema SQL ()\r\n+2. Importar el esquema SQL (Mysql)\r\n 3. Configurar las credenciales en `.env` del backend\r\n \r\n ### 3. Configurar Backend\r\n \r\n"
                },
                {
                    "date": 1764949244994,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,9 @@\n \r\n ### 2. Configurar Base de Datos\r\n \r\n 1. Crear la base de datos `control_acceso_sena` en MySQL\r\n-2. Importar el esquema SQL (Mysql)\r\n+2. Importar el esquema SQL (Mysql.sql)\r\n 3. Configurar las credenciales en `.env` del backend\r\n \r\n ### 3. Configurar Backend\r\n \r\n@@ -102,9 +102,9 @@\n \r\n 1. Iniciar sesiÃ³n como guarda o admin\r\n 2. Ir a \"Scanner\" en el menÃº\r\n 3. Activar la cÃ¡mara\r\n-4. Escanear el cÃ³digo QR del aprendiz/visitante\r\n+4. Escanear el cÃ³digo QR del aprendiz/visitante/insts\r\n 5. El sistema registrarÃ¡ automÃ¡ticamente entrada o salida\r\n \r\n ### Registrar Visitante\r\n \r\n"
                }
            ],
            "date": 1764949177168,
            "name": "Commit-0",
            "content": "# Control de Acceso SENA\r\n\r\nSistema completo de control de acceso con cÃ³digos QR para el SENA.\r\n\r\n## ğŸš€ CaracterÃ­sticas\r\n\r\n- âœ… **Scanner QR funcional** con cÃ¡mara en tiempo real\r\n- âœ… **GestiÃ³n de visitantes** con QR temporales (24 horas)\r\n- âœ… **Panel administrativo** con mÃ©tricas en tiempo real\r\n- âœ… **AutenticaciÃ³n segura** con JWT\r\n- âœ… **Control de accesos** (entrada/salida automÃ¡tica)\r\n- âœ… **Reportes y estadÃ­sticas** diarias\r\n- âœ… **Interfaz responsive** optimizada para mÃ³viles\r\n\r\n## ğŸ“‹ Requisitos Previos\r\n\r\n- Node.js 18+ y npm\r\n- MySQL 8.0+\r\n- Navegador moderno con soporte para cÃ¡mara (para scanner QR)\r\n\r\n## ğŸ› ï¸ InstalaciÃ³n\r\n\r\n### 1. Clonar el repositorio\r\n\r\n```bash\r\ngit clone <repository-url>\r\ncd control-acceso-sena\r\n```\r\n\r\n### 2. Configurar Base de Datos\r\n\r\n1. Crear la base de datos `control_acceso_sena` en MySQL\r\n2. Importar el esquema SQL ()\r\n3. Configurar las credenciales en `.env` del backend\r\n\r\n### 3. Configurar Backend\r\n\r\n```bash\r\ncd backend\r\nnpm install\r\n```\r\n\r\nCrear archivo `.env` en `backend/`:\r\n\r\n```env\r\nPORT=5000\r\nDB_HOST=localhost\r\nDB_USER=root\r\nDB_PASSWORD=tu_password\r\nDB_NAME=control_acceso_sena\r\nJWT_SECRET=tu_secret_key_segura_aqui\r\nJWT_EXPIRES_IN=24h\r\nNODE_ENV=development\r\n```\r\n\r\n### 4. Configurar Frontend\r\n\r\n```bash\r\ncd frontend\r\nnpm install\r\n```\r\n\r\nCrear archivo `.env` en `frontend/`:\r\n\r\n```env\r\nVITE_API_URL=http://localhost:5000/api\r\n```\r\n\r\n## ğŸš€ EjecuciÃ³n\r\n\r\n### Backend\r\n\r\n```bash\r\ncd backend\r\nnpm run dev\r\n```\r\n\r\nEl servidor estarÃ¡ disponible en `http://localhost:5000`\r\n\r\n### Frontend\r\n\r\n```bash\r\ncd frontend\r\nnpm run dev\r\n```\r\n\r\nLa aplicaciÃ³n estarÃ¡ disponible en `http://localhost:5173`\r\n\r\n## ğŸ‘¤ Credenciales por Defecto\r\n\r\n**Administrador:**\r\n- Email: `admin@sena.edu.co`\r\n- ContraseÃ±a: `admin123`\r\n\r\n**Guarda:**\r\n- Email: `guarda@sena.edu.co`\r\n- ContraseÃ±a: `guarda123`\r\n\r\n## ğŸ“± Uso del Sistema\r\n\r\n### Scanner QR\r\n\r\n1. Iniciar sesiÃ³n como guarda o admin\r\n2. Ir a \"Scanner\" en el menÃº\r\n3. Activar la cÃ¡mara\r\n4. Escanear el cÃ³digo QR del aprendiz/visitante\r\n5. El sistema registrarÃ¡ automÃ¡ticamente entrada o salida\r\n\r\n### Registrar Visitante\r\n\r\n1. Ir a \"Visitantes\" en el menÃº\r\n2. Completar el formulario con los datos del visitante\r\n3. Se generarÃ¡ automÃ¡ticamente un cÃ³digo QR vÃ¡lido por 24 horas\r\n4. El visitante puede usar este QR para ingresar\r\n\r\n### Panel Administrativo\r\n\r\n1. Iniciar sesiÃ³n como administrador\r\n2. Acceder a \"AdministraciÃ³n\" para gestionar usuarios\r\n3. Ver \"Reportes\" para estadÃ­sticas y registros\r\n\r\n## ğŸ—ï¸ Estructura del Proyecto\r\n\r\n```\r\ncontrol-acceso-sena/\r\nâ”œâ”€â”€ backend/\r\nâ”‚   â”œâ”€â”€ src/\r\nâ”‚   â”‚   â”œâ”€â”€ config/         # ConfiguraciÃ³n (DB, JWT)\r\nâ”‚   â”‚   â”œâ”€â”€ controllers/    # Controladores de rutas\r\nâ”‚   â”‚   â”œâ”€â”€ middleware/     # Middleware (auth, validation)\r\nâ”‚   â”‚   â”œâ”€â”€ models/         # Modelos de datos\r\nâ”‚   â”‚   â”œâ”€â”€ routes/         # DefiniciÃ³n de rutas\r\nâ”‚   â”‚   â””â”€â”€ utils/          # Utilidades (QR generator)\r\nâ”‚   â””â”€â”€ package.json\r\nâ”œâ”€â”€ frontend/\r\nâ”‚   â”œâ”€â”€ src/\r\nâ”‚   â”‚   â”œâ”€â”€ components/     # Componentes reutilizables\r\nâ”‚   â”‚   â”œâ”€â”€ context/        # Context API (Auth)\r\nâ”‚   â”‚   â”œâ”€â”€ pages/          # PÃ¡ginas principales\r\nâ”‚   â”‚   â”œâ”€â”€ services/       # Servicios API\r\nâ”‚   â”‚   â””â”€â”€ styles/         # Estilos globales\r\nâ”‚   â””â”€â”€ package.json\r\nâ””â”€â”€ README.md\r\n```\r\n\r\n## ğŸ”Œ API Endpoints\r\n\r\n### AutenticaciÃ³n\r\n- `POST /api/auth/login` - Iniciar sesiÃ³n\r\n- `GET /api/auth/verify` - Verificar token\r\n\r\n### Accesos\r\n- `POST /api/access/scan` - Escanear QR\r\n- `GET /api/access/current` - Personas dentro\r\n- `GET /api/access/stats/daily` - EstadÃ­sticas diarias\r\n\r\n### Visitantes\r\n- `POST /api/visitors` - Crear visitante\r\n- `GET /api/visitors` - Listar visitantes\r\n- `POST /api/visitors/:id/qr` - Generar QR\r\n\r\n### Usuarios (Admin)\r\n- `GET /api/users` - Listar usuarios\r\n- `POST /api/users` - Crear usuario\r\n- `PUT /api/users/:id` - Actualizar usuario\r\n- `DELETE /api/users/:id` - Desactivar usuario\r\n\r\n## ğŸ”’ Seguridad\r\n\r\n- AutenticaciÃ³n JWT con tokens expirables\r\n- ContraseÃ±as hasheadas con bcrypt\r\n- Middleware de autorizaciÃ³n por roles\r\n- ValidaciÃ³n de datos en backend\r\n- ProtecciÃ³n de rutas en frontend\r\n\r\n## ğŸ› SoluciÃ³n de Problemas\r\n\r\n### La cÃ¡mara no funciona\r\n- Verificar permisos del navegador para acceder a la cÃ¡mara\r\n- Usar HTTPS en producciÃ³n (requerido para cÃ¡mara)\r\n- Probar en diferentes navegadores\r\n\r\n### Error de conexiÃ³n a la base de datos\r\n- Verificar credenciales en `.env`\r\n- Asegurar que MySQL estÃ© corriendo\r\n- Verificar que la base de datos existe\r\n\r\n### Token expirado\r\n- Cerrar sesiÃ³n y volver a iniciar\r\n- Verificar configuraciÃ³n de JWT_EXPIRES_IN\r\n\r\n## ğŸ“ Notas\r\n\r\n- Los cÃ³digos QR de visitantes expiran despuÃ©s de 24 horas\r\n- El sistema detecta automÃ¡ticamente si una persona estÃ¡ dentro o fuera\r\n- Las estadÃ­sticas se actualizan en tiempo real cada 30 segundos\r\n\r\n## ğŸ“„ Licencia\r\n\r\nEste proyecto es propiedad del SENA.\r\n\r\n## ğŸ‘¥ Contribuidores\r\n\r\nDesarrollado para el Sistema de Control de Acceso SENA.\r\n"
        }
    ]
}